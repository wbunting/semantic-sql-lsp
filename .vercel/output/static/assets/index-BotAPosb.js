import{_ as B,d as D,e as F,f as L,g as ae,h as de,i as le,j as ye,k as Ce,m as Se,n as De,o as Ie,p as Ge,q as ue,s as he,t as g,S as V,u as Q,v as Pe,D as ce,b as R,T as U,w as be,x as $,y as ee,z as xe,A as N,B as Te,F as Re,G as te,H as ie,R as pe,aa as ge,ab as Oe,ac as ke,ad as Ae,ae as Ne,af as Ve,K as fe,ag as We,ah as _e,ai as Me,aj as Be,ak as Fe,al as z,am as I,an as oe,ao as Le,ap as He,J as ne,aq as Ke,ar as Ue,as as se,at as Y,au as ze}from"./monaco-editor-wrapped-CqvvOqZY.js";import{aD as yt,aE as Ct,aB as St,aH as Dt,aF as It,aw as Gt,av as Pt,ax as bt,ay as xt,aC as Tt,aG as Rt,az as Ot,aA as kt}from"./monaco-editor-wrapped-CqvvOqZY.js";import{g as Ye,E as $e,S as qe,P as Je,A as je}from"./viewCommon-CAIi2xoC.js";import{a as Nt,b as Vt}from"./viewCommon-CAIi2xoC.js";import{E as Xe}from"./fileCommands._save-B33a3Mqf.js";import"./chunk-D52XG6IA-Db5pw7u4.js";import"./home-VzGMATgR.js";import"./with-props-GiQjMqHo.js";import"./workbenchThemeService.service-BjKJFM4E.js";function n(){throw new Error("unsupported")}var q;class Qe{constructor(){this.selectedEditors=[],this.isSelected=()=>!1,this.setSelection=n,this.isTransient=()=>!1,this.windowId=he.vscodeWindowId,this.createEditorActions=n,this.onDidFocus=g.None,this.onDidOpenEditorFail=g.None,this.whenRestored=Promise.resolve(),this.disposed=!1,this.setActive=n,this.notifyIndexChanged=n,this.relayout=n,this.dispose=n,this.toJSON=n,this.minimumWidth=0,this.maximumWidth=Number.POSITIVE_INFINITY,this.minimumHeight=0,this.maximumHeight=Number.POSITIVE_INFINITY,this.onDidChange=g.None,this.layout=n,this.onDidModelChange=g.None,this.onWillDispose=g.None,this.onDidActiveEditorChange=g.None,this.onWillCloseEditor=g.None,this.onDidCloseEditor=g.None,this.onWillMoveEditor=g.None,this.onWillOpenEditor=g.None,this.id=0,this.index=0,this.label="main",this.ariaLabel="main",this.activeEditorPane=void 0,this.activeEditor=null,this.previewEditor=null,this.count=0,this.isEmpty=!1,this.isLocked=!1,this.stickyCount=0,this.editors=[],this.getEditors=()=>[],this.findEditors=()=>[],this.getEditorByIndex=()=>{},this.getIndexOfEditor=n,this.openEditor=n,this.openEditors=n,this.isPinned=()=>!1,this.isSticky=()=>!1,this.isActive=()=>!1,this.contains=()=>!1,this.moveEditor=n,this.moveEditors=n,this.copyEditor=n,this.copyEditors=n,this.closeEditor=n,this.closeEditors=n,this.closeAllEditors=n,this.replaceEditors=n,this.pinEditor=()=>{},this.stickEditor=()=>{},this.unstickEditor=()=>{},this.lock=()=>{},this.isFirst=n,this.isLast=n}get groupsView(){return n()}notifyLabelChanged(){}get titleHeight(){return n()}get element(){return n()}get scopedContextKeyService(){return V.get(ue)}focus(){}}const Ze=new Qe;class et{constructor(e){this.editor=e,this.onDidChangeControl=g.None,this.onDidChangeSizeConstraints=g.None,this.onDidFocus=g.None,this.onDidBlur=g.None,this.input=void 0,this.options=void 0,this.group=Ze,this.scopedContextKeyService=void 0,this.getViewState=n,this.isVisible=n,this.hasFocus=n,this.getId=n,this.getTitle=n,this.focus=n}get minimumWidth(){return te.width}get maximumWidth(){return ie.width}get minimumHeight(){return te.height}get maximumHeight(){return ie.height}getControl(){return this.editor}}function tt(o,e,r){async function c(i,E,G){const t=ee(i)?E:i.options;xe(E)&&(G=E);const l=N(i)||ee(i)?i.resource:void 0;if(l==null||!o.canHandleResource(l))return await e(i,E,G);let f;if(f=V.get(Q).listCodeEditors().find(C=>C instanceof $&&C.getModel()!=null&&C.getModel().uri.toString()===l.toString()),f==null){const C=await e(i,E,G);if(C!=null)return C;const P=await o.createModelReference(l);if(f=await(r==null?void 0:r(P,t,G===Te)),f==null){P.dispose();return}}return t!=null&&Re(t,f,1),((t==null?void 0:t.preserveFocus)??!1)||(f.focus(),f.getContainerDomNode().scrollIntoView()),new et(f)}return c}let J=class extends Xe{constructor(e,r,c,i,E,G,t,l,f,b,C,P,O){super(void 0,c,i,E,G,t,l,f,b,C,P),this._isEditorPartVisible=r,this.openEditor=tt(O,this.openEditor.bind(this),e)}get activeTextEditorControl(){const e=V.get(Q).getFocusedCodeEditor();return e!=null&&e instanceof Pe?e:super.activeTextEditorControl}async openEditor(e,r,c){if(this._isEditorPartVisible())return await super.openEditor(e,r,c)}};J=B([D(2,F),D(3,L),D(4,ae),D(5,de),D(6,le),D(7,ye),D(8,Ce),D(9,Se),D(10,De),D(11,Ie),D(12,Ge)],J);class re{constructor(e,r,c){this.editor=e,this.input=r,this.group=c,this.onDidChangeControl=g.None,this.options=void 0,this.minimumWidth=0,this.maximumWidth=Number.POSITIVE_INFINITY,this.minimumHeight=0,this.maximumHeight=Number.POSITIVE_INFINITY,this.onDidChangeSizeConstraints=g.None,this.scopedContextKeyService=void 0,this.onDidFocus=this.editor.onDidFocusEditorWidget,this.onDidBlur=this.editor.onDidBlurEditorWidget}getControl(){return this.editor}getViewState(){}isVisible(){return!0}hasFocus(){return this.editor.hasWidgetFocus()}getId(){return this.editor.getId()}getTitle(){}focus(){this.editor.focus()}}let M=q=class extends ce{constructor(e,r,c){super(),this.editor=e,this.scopedContextKeyService=c,this.active=!1,this.selectedEditors=[],this.isSelected=()=>!1,this.setSelection=n,this.isTransient=()=>!1,this.windowId=he.vscodeWindowId,this.onDidFocus=this.editor.onDidFocusEditorWidget,this.onDidOpenEditorFail=g.None,this.whenRestored=Promise.resolve(),this.disposed=!1,this.notifyIndexChanged=n,this.relayout=n,this.toJSON=n,this.minimumWidth=0,this.maximumWidth=Number.POSITIVE_INFINITY,this.minimumHeight=0,this.maximumHeight=Number.POSITIVE_INFINITY,this.onDidChange=this.editor.onDidLayoutChange,this.layout=()=>this.editor.layout(),this._onDidModelChange=new R,this.onDidModelChange=this._onDidModelChange.event,this.onWillDispose=this.editor.onDidDispose,this._onDidActiveEditorChange=new R,this.onDidActiveEditorChange=this._onDidActiveEditorChange.event,this.onWillCloseEditor=g.None,this._onDidCloseEditor=new R,this.onDidCloseEditor=this._onDidCloseEditor.event,this.onWillMoveEditor=g.None,this._onWillOpenEditor=new R,this.onWillOpenEditor=this._onWillOpenEditor.event,this.id=--q.idCounter,this.index=-1,this.label=`standalone editor ${-this.id}`,this.ariaLabel=`standalone editor ${-this.id}`,this.previewEditor=null,this.isLocked=!0,this.stickyCount=0,this.getEditors=()=>this.editors,this.findEditors=t=>this.pane!=null&&t.toString()===this.pane.input.resource.toString()?[this.pane.input]:[],this.getEditorByIndex=t=>this.pane!=null&&t===0?this.pane.input:void 0,this.getIndexOfEditor=t=>this.pane!=null&&this.pane.input===t?0:-1,this.openEditor=async t=>{var l;if(!t.isDisposed()&&t instanceof U&&t.resource.toString()===((l=this.pane)==null?void 0:l.input.resource.toString()))return this.focus(),this.pane},this.openEditors=async t=>{if(t.length===1)return await this.openEditor(t[0].editor)},this.isPinned=()=>!1,this.isSticky=()=>!1,this.isActive=()=>this.editor.hasWidgetFocus(),this.contains=t=>this.pane!=null&&this.pane.input===t,this.moveEditor=n,this.moveEditors=n,this.copyEditor=n,this.copyEditors=n,this.closeEditor=n,this.closeEditors=n,this.closeAllEditors=n,this.replaceEditors=n,this.pinEditor=()=>{},this.stickEditor=()=>{},this.unstickEditor=()=>{},this.lock=()=>{},this.isFirst=n,this.isLast=n;const i=t=>{const l=r.createInstance(U,t,void 0,void 0,void 0,void 0);this._onWillOpenEditor.fire({editor:l,groupId:this.id}),this.pane=new re(e,l,this),this._onDidModelChange.fire({kind:5,editor:l,editorIndex:0}),this._onDidActiveEditorChange.fire({editor:l})},E=t=>{if(this.pane!=null&&this.pane.input.resource.toString()===t.toString()){const l=this.pane;this.pane=void 0,this._onDidModelChange.fire({kind:6,editorIndex:0}),this._onDidActiveEditorChange.fire({editor:void 0}),this._onDidCloseEditor.fire({context:be.UNKNOWN,editor:l.input,groupId:this.id,index:0,sticky:!1})}};e.onDidChangeModel(t=>{t.oldModelUrl!=null&&E(t.oldModelUrl),t.newModelUrl!=null&&i(t.newModelUrl)}),this._register({dispose:()=>{const t=e.getModel();t!=null&&E(t.uri)}});const G=e.getModel();if(G!=null){const t=r.createInstance(U,G.uri,void 0,void 0,void 0,void 0);this.pane=new re(e,t,this)}}get groupsView(){return n()}notifyLabelChanged(){}createEditorActions(){return{actions:{primary:[],secondary:[]},onDidChange:g.None}}get titleHeight(){return n()}setActive(e){this.active=e}get element(){return this.editor.getContainerDomNode()}get activeEditorPane(){return this.pane}get activeEditor(){var e;return((e=this.pane)==null?void 0:e.input)??null}get count(){return this.pane!=null?1:0}get isEmpty(){return this.pane==null}get editors(){return this.pane!=null?[this.pane.input]:[]}focus(){this.editor.focus(),this.editor.getContainerDomNode().scrollIntoView()}};M.idCounter=0;M=q=B([D(1,L),D(2,ue)],M);let j=class extends ce{constructor(e,r,c){super(),this.delegate=e,this.instantiationService=c,this._serviceBrand=void 0,this.additionalGroups=[],this.activeGroupOverride=void 0,this.onDidCreateAuxiliaryEditorPart=this.delegate.onDidCreateAuxiliaryEditorPart,this.onDidChangeGroupMaximized=this.delegate.onDidChangeGroupMaximized,this._onDidChangeActiveGroup=new R,this.onDidChangeActiveGroup=g.any(this._onDidChangeActiveGroup.event,this.delegate.onDidChangeActiveGroup),this._onDidAddGroup=new R,this.onDidAddGroup=g.any(this._onDidAddGroup.event,this.delegate.onDidAddGroup),this._onDidRemoveGroup=new R,this.onDidRemoveGroup=g.any(this._onDidRemoveGroup.event,this.delegate.onDidRemoveGroup),this.onDidMoveGroup=this.delegate.onDidMoveGroup,this.onDidActivateGroup=this.delegate.onDidActivateGroup,this.onDidChangeGroupIndex=this.delegate.onDidChangeGroupIndex,this.onDidChangeGroupLocked=this.delegate.onDidChangeGroupLocked,this.getLayout=()=>this.delegate.getLayout(),this.getGroups=i=>[...this.delegate.getGroups(i),...this.additionalGroups],this.getGroup=i=>this.delegate.getGroup(i)??this.additionalGroups.find(E=>E.id===i),this.activateGroup=(...i)=>this.delegate.activateGroup(...i),this.getSize=(...i)=>this.delegate.getSize(...i),this.setSize=(...i)=>this.delegate.setSize(...i),this.arrangeGroups=(...i)=>this.delegate.arrangeGroups(...i),this.applyLayout=(...i)=>this.delegate.applyLayout(...i),this.setGroupOrientation=(...i)=>this.delegate.setGroupOrientation(...i),this.findGroup=(...i)=>this.delegate.findGroup(...i),this.addGroup=(...i)=>this.delegate.addGroup(...i),this.removeGroup=(...i)=>this.delegate.removeGroup(...i),this.moveGroup=(...i)=>this.delegate.moveGroup(...i),this.mergeGroup=(...i)=>this.delegate.mergeGroup(...i),this.mergeAllGroups=(...i)=>this.delegate.mergeAllGroups(...i),this.copyGroup=(...i)=>this.delegate.copyGroup(...i),this.onDidChangeEditorPartOptions=this.delegate.onDidChangeEditorPartOptions,setTimeout(()=>{const i=V.get(Q),E=t=>{if(t instanceof $){let l;const f=y=>{const k=y!=null?this.additionalGroups.find(H=>H.editor===y):void 0;this.activeGroupOverride!==k&&(this.activeGroupOverride=k,this._onDidChangeActiveGroup.fire(this.activeGroup))},b=y=>{!r&&this.activeGroupOverride===this.additionalGroups.find(k=>k.editor===y)&&f(void 0)},C=()=>{l!=null&&window.clearTimeout(l),f(t)},P=()=>{l!=null&&window.clearTimeout(l),l=window.setTimeout(()=>{l=void 0,b(t)},100)};t.onDidDispose(()=>{b(t)}),t.onDidFocusEditorText(C),t.onDidFocusEditorWidget(C),t.onDidBlurEditorText(P),t.onDidBlurEditorWidget(P),t.hasWidgetFocus()&&C();const O=c.createInstance(M,t);this.additionalGroups.push(O),this._onDidAddGroup.fire(O)}},G=t=>{if(t instanceof $){const l=this.additionalGroups.find(f=>f.editor===t);l!=null&&(l.dispose(),this.activeGroupOverride===l&&(this.activeGroupOverride=void 0,this._onDidChangeActiveGroup.fire(this.activeGroup)),this.additionalGroups=this.additionalGroups.filter(f=>f!==l),this._onDidRemoveGroup.fire(l))}};this._register(i.onCodeEditorAdd(E)),this._register(i.onCodeEditorRemove(G)),i.listCodeEditors().forEach(E)})}getScopedInstantiationService(){return this.instantiationService}registerContextKeyProvider(e){return this.delegate.registerContextKeyProvider(e)}saveWorkingSet(e){return this.delegate.saveWorkingSet(e)}getWorkingSets(){return this.delegate.getWorkingSets()}applyWorkingSet(e){return this.delegate.applyWorkingSet(e)}deleteWorkingSet(e){return this.delegate.deleteWorkingSet(e)}get isReady(){return this.delegate.isReady}get whenReady(){return this.delegate.whenReady}get whenRestored(){return this.delegate.whenRestored}get hasRestorableState(){return this.delegate.hasRestorableState}get parts(){return this.delegate.parts}createAuxiliaryEditorPart(e){return this.delegate.createAuxiliaryEditorPart(e)}get mainPart(){return this.delegate.mainPart}getPart(e){return this.delegate.getPart(e)}toggleMaximizeGroup(e){return this.delegate.toggleMaximizeGroup(e)}toggleExpandGroup(e){return this.delegate.toggleExpandGroup(e)}createEditorDropTarget(e,r){return this.delegate.createEditorDropTarget(e,r)}get groups(){return[...this.additionalGroups,...this.delegate.groups]}get activeGroup(){return this.activeGroupOverride??this.delegate.activeGroup}get sideGroup(){return this.delegate.sideGroup}get count(){return this.delegate.count+this.additionalGroups.length}get orientation(){return this.delegate.orientation}get partOptions(){return this.delegate.partOptions}};j=B([D(2,L)],j);pe.as(ge.ViewContainersRegistry);pe.as(ge.ViewsRegistry);function it(o,e,r){const c=document.createElement(e==="status"?"footer":"div");return c.classList.add("part","monaco-workbench-part",...r),c.id=o,c.setAttribute("role",e),e==="status"&&c.setAttribute("aria-live","off"),c}function ot(o){var r;const e=(r=o.getContainer())==null?void 0:r.parentNode;e!=null&&o.layout(Math.max(o.minimumWidth,Math.min(o.maximumWidth,e.offsetWidth)),Math.max(o.minimumHeight,Math.min(o.maximumHeight,e.offsetHeight)),e.offsetTop,e.offsetLeft)}function nt(o,e){o.oncontextmenu=()=>!1;function r(){ot(e)}e.onDidVisibilityChange(c=>{c&&r()}),r()}function st(o){return o.isConnected?o.checkVisibility!=null?o.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0}):o.offsetHeight>0&&o.offsetWidth>0:!1}function _(){const o=V.get(F).mainPart.getContainer();return o!=null&&st(o)}let X=class extends j{constructor(e){super(e.createInstance($e),!1,e),this.restoreGroup=(...r)=>this.delegate.restoreGroup(...r)}getId(){return"standalone"}updateStyles(){}registerPart(e){return this.delegate.registerPart(e)}bind(e,r){return this.delegate.bind(e,r)}get activePart(){return this.delegate.activePart}};X=B([D(0,L)],X);let ve=o=>o;Oe(async o=>{const e=o.get(ke),r=o.get(Ae),c=o.get(Ne),i=o.get(Ve),E=o.get(F),G=o.get(fe),t=o.get(We),l=o.get(_e),f=o.get(Me),b=o.get(le),C=o.get(de),P=o.get(ae),O=o.get(Be),y=o.get(Fe);function k(){var a,v,w,m;const s=(a=f.options)==null?void 0:a.defaultLayout;if(((s==null?void 0:s.editors)!=null&&s.editors.length>0||((v=s==null?void 0:s.layout)==null?void 0:v.editors)!=null)&&((s.force??!1)||i.isNew(1)))return{layout:(w=s.layout)==null?void 0:w.editors,filesToOpenOrCreate:(m=s.editors)==null?void 0:m.map(S=>({viewColumn:S.viewColumn,fileUri:Ke.revive(S.uri),openOnlyIfExists:S.openOnlyIfExists,options:S.options}))};const{filesToOpenOrCreate:d,filesToDiff:h,filesToMerge:u}=f;if(d!=null||h!=null||u!=null)return{filesToOpenOrCreate:d,filesToDiff:h,filesToMerge:u}}function H(s,d){var a;const h=(a=s.options)==null?void 0:a.defaultLayout;if(h==null||!(h.force??!1)&&!d.isNew(1))return;const{views:u}=h;if(u!=null&&u.length>0)return u.map(v=>v.id)}function me(s,d){return Ue(s.getWorkspace())?!1:!!(C.getValue("window.restoreWindows")==="preserve")||d===void 0}async function Ee(s,d){var h;if(d!=null){const u=se(await Y(d.filesToMerge,s,t));if(u.length===4&&N(u[0])&&N(u[1])&&N(u[2])&&N(u[3]))return[{editor:{input1:{resource:u[0].resource},input2:{resource:u[1].resource},base:{resource:u[2].resource},result:{resource:u[3].resource},options:{pinned:!0}}}];const a=se(await Y(d.filesToDiff,s,t));if(a.length===2)return[{editor:{original:{resource:a[0].resource},modified:{resource:a[1].resource},options:{pinned:!0}}}];const v=[],w=await Y(d.filesToOpenOrCreate,s,t);for(let m=0;m<w.length;m++){const S=w[m];S!=null&&v.push({editor:S,viewColumn:(h=d.filesToOpenOrCreate)==null?void 0:h[m].viewColumn})}return v}else if(b.getWorkbenchState()===1&&C.getValue("workbench.startupEditor")==="newUntitledFile")return E.mainPart.hasRestorableState?[]:await O.hasBackups()?[]:[{editor:{resource:void 0}}];return[]}const x=k();x!=null&&t.info("Initial editor state",x);let p={layout:{editors:x==null?void 0:x.layout},editor:{restoreEditors:me(b,x),editorsToOpen:Ee(P,x)},views:{defaults:H(f,i),containerToRestore:{}}};function T(s){return r.getDefaultViewContainer(s)??r.getViewContainersByLocation(s)[0]}function we(){var s,d,h,u;if(y.isVisible("workbench.parts.sidebar")){let a;!f.isBuilt||c.startupKind===3||ze?a=i.get(qe.activeViewletSettingsKey,1,(s=T(0))==null?void 0:s.id):a=(d=T(0))==null?void 0:d.id,p.views.containerToRestore.sideBar=a}if(y.isVisible("workbench.parts.panel")){const a=i.get(Je.activePanelSettingsKey,1,(h=T(1))==null?void 0:h.id);p.views.containerToRestore.panel=a}if(y.isVisible("workbench.parts.auxiliarybar")){const a=i.get(je.activePanelSettingsKey,1,(u=T(2))==null?void 0:u.id);p.views.containerToRestore.auxiliaryBar=a}}we(),p=ve(p),p.views.containerToRestore.sideBar==null&&y.setPartHidden(!0,"workbench.parts.sidebar"),p.views.containerToRestore.panel==null&&y.setPartHidden(!0,"workbench.parts.panel"),p.views.containerToRestore.auxiliaryBar==null&&y.setPartHidden(!0,"workbench.parts.auxiliarybar");const K=document.createElement("div");K.style.display="none",document.body.append(K);for(const{id:s,role:d,classes:h,options:u,getPosition:a,onDidChangePosition:v}of[{id:"workbench.parts.titlebar",role:"none",classes:["titlebar"]},{id:"workbench.parts.banner",role:"banner",classes:["banner"]},{id:"workbench.parts.activitybar",role:"none",classes:["activitybar"],getPosition:()=>y.getSideBarPosition(),onDidChangePosition:y.onDidChangeSideBarPosition},{id:"workbench.parts.sidebar",role:"none",classes:["sidebar"],getPosition:()=>y.getSideBarPosition(),onDidChangePosition:y.onDidChangeSideBarPosition},{id:"workbench.parts.editor",role:"main",classes:["editor"],options:{restorePreviousState:p.editor.restoreEditors}},{id:"workbench.parts.panel",role:"none",classes:["panel","basepanel"],getPosition:()=>y.getPanelPosition(),onDidChangePosition:y.onDidChangePanelPosition},{id:"workbench.parts.auxiliarybar",role:"none",classes:["auxiliarybar","basepanel"],getPosition:()=>y.getSideBarPosition()===0?1:0,onDidChangePosition:y.onDidChangeSideBarPosition},{id:"workbench.parts.statusbar",role:"status",classes:["statusbar"]}]){const w=y.getPart(s);if(w!=null){const m=it(s,d,h);if(w.create(m,u),nt(m,w),w.layout(9999,9999,0,0),K.append(m),a!=null){let S=a();w.element.classList.add(z(S)),v==null||v(()=>{w.element.classList.remove(z(S)),S=a(),w.element.classList.add(z(S))})}}}const A=[],Z=[];A.push((async()=>{var h;I("code/willRestoreEditors"),await E.mainPart.whenReady,I("code/restoreEditors/editorGroupsReady"),((h=p.layout)==null?void 0:h.editors)!=null&&E.applyLayout(p.layout.editors);const s=await p.editor.editorsToOpen;I("code/restoreEditors/editorsToOpenResolved");let d;if(s.length>0){const u=E.getGroups(2),a=new Map;for(const v of s){const w=u[(v.viewColumn??1)-1];let m=a.get(w.id);m==null&&(m=new Set,a.set(w.id,m)),m.add(v.editor)}d=Promise.all(Array.from(a).map(async([v,w])=>{try{await G.openEditors(Array.from(w),v,{validateTrust:!0})}catch(m){t.error(m)}}))}Z.push(Promise.all([d==null?void 0:d.finally(()=>I("code/restoreEditors/editorsOpened")),E.mainPart.whenRestored.finally(()=>I("code/restoreEditors/editorGroupsRestored"))]).finally(()=>{I("code/didRestoreEditors")}))})());const W=(async()=>{if(p.views.defaults!=null&&p.views.defaults.length>0){I("code/willOpenDefaultViews");const s=[],d=a=>{var w;const v=r.getViewLocationById(a.id);if(v!==null){const m=r.getViewContainerByViewId(a.id);if(m!=null){a.order>=(((w=s[v])==null?void 0:w.order)??0)&&(s[v]={id:m.id,order:a.order});const S=r.getViewContainerModel(m);return S.setCollapsed(a.id,!1),S.setVisible(a.id,!0),!0}}return!1},h=[...p.views.defaults].reverse().map((a,v)=>({id:a,order:v}));let u=h.length;for(;u>0;)u--,d(h[u])&&h.splice(u,1);if(h.length>0){await l.whenInstalledExtensionsRegistered();let a=h.length;for(;a>0;)a--,d(h[a])&&h.splice(a,1)}s[0]!=null&&(p.views.containerToRestore.sideBar=s[0].id),s[1]!=null&&(p.views.containerToRestore.panel=s[1].id),s[2]!=null&&(p.views.containerToRestore.auxiliaryBar=s[2].id),I("code/didOpenDefaultViews")}})();A.push(W),A.push((async()=>{var d;if(await W,p.views.containerToRestore.sideBar==null)return;I("code/willRestoreViewlet"),await e.openPaneComposite(p.views.containerToRestore.sideBar,0)==null&&await e.openPaneComposite((d=T(0))==null?void 0:d.id,0),I("code/didRestoreViewlet")})()),A.push((async()=>{var d;if(await W,p.views.containerToRestore.panel==null)return;I("code/willRestorePanel"),await e.openPaneComposite(p.views.containerToRestore.panel,1)==null&&await e.openPaneComposite((d=T(1))==null?void 0:d.id,1),I("code/didRestorePanel")})()),A.push((async()=>{var d;if(await W,p.views.containerToRestore.auxiliaryBar==null)return;I("code/willRestoreAuxiliaryBar"),await e.openPaneComposite(p.views.containerToRestore.auxiliaryBar,2)==null&&await e.openPaneComposite((d=T(2))==null?void 0:d.id,2),I("code/didRestoreAuxiliaryBar")})()),await oe.settled(A),await oe.settled(Z)});function mt(o,e,r){return r!=null&&(ve=typeof r=="boolean"?c=>({...c,editor:{...c.editor,restoreEditors:r}}):r),{...Ye(e),...Le({isKeybindingConfigurationVisible:_,shouldUseGlobalPicker:_}),...He({shouldUseGlobalKeybindings:_}),[F.toString()]:new ne(X,[],!1),[fe.toString()]:new ne(J,[o,_],!1)}}export{yt as AbstractResourceEditorInput,Ct as AbstractTextResourceEditorInput,Nt as ActivityService,Vt as ActivitybarPart,St as ConfirmResult,Dt as DomScrollableElement,It as EditorInput,Gt as EditorInputCapabilities,Pt as GroupOrientation,Je as PanelPart,bt as Parts,xt as Position,Tt as RegisteredEditorPriority,qe as SidebarPart,Rt as SplitView,Ot as ViewContainerLocation,kt as ViewPaneContainer,mt as default,_ as isEditorPartVisible,nt as renderPart};
